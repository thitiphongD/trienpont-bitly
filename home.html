<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/css/home.css">
    <title>Home</title>
</head>

<body>
    <header>
        <div class="menu-container">
            <div class="menu-container">
                <div class="menu-bar" id="home" onclick="showContent('content-home')">
                    <i class="material-icons">home</i>
                    <p>Home</p>
                </div>

                <div class="new-link-btn" onclick="toggleDropdown()">
                    <i class="material-icons">add</i>
                    <p>Create New</p>
                    <div class="dropdown-content">
                        <div class="create-new-link" onclick="openNewLink();">
                            <i class="material-icons">link</i>
                            <p>Links</p>
                        </div>
                        <div class="create-new-link" onclick="openNewQR();">
                            <i class="material-icons">qr_code</i>
                            <p>QR Codes</p>
                        </div>
                    </div>
                </div>

                <div class="menu-bar" id="links" onclick="showContent('content-links')">
                    <i class="material-icons">link</i>
                    <p>Links</p>
                </div>
                <div class="menu-bar" id="qrcodes" onclick="showContent('content-qrCodes')">
                    <i class="material-icons">qr_code</i>
                    <p>QR Codes</p>
                </div>


                <button class="logout-btn" onclick="window.location.href = '/login.html'">
                    Logout
                    <i class="material-icons">exit_to_app</i>
                </button>

                <!-- <div class="menu-bar" id="linkinbio" onclick="showContent('content-linkInBio')">
                    <i class="material-icons">person</i>
                    <p>Link-in-bio</p>
                </div> -->
            </div>
        </div>
        <div class="profile-box">
            <p id="user-email"></p>
        </div>

    </header>

    <main>

        <div id="content-home">
            <h1>Your Connections Platform</h1>
            <br>
            <div class="select-container">
                <div class="select-box">
                    <div class="box-left">
                        <img src="/imgs/icon-1.png" alt="make a short url">
                    </div>
                    <div class="box-right">
                        <p>Make it short</p>
                        <button class="go-btn" onclick="showContent('content-links')">Go to Links</button>
                    </div>
                </div>
                <div class="select-box">
                    <div class="box-left">
                        <img src="/imgs/icon-2.png" alt="make a QR Codes">
                    </div>
                    <div class="box-right">
                        <p>Make it scannable</p>
                        <button class="go-btn" onclick="showContent('content-qrCodes')">Go to QR Codes</button>
                    </div>
                </div>
                <!-- <div class="select-box">
                    <div class="box-left">
                        <img src="/imgs/icon-3.png" alt="make a short Links in bio">
                    </div>
                    <div class="box-right">
                        <p>Make a page</p>
                        <button class="go-btn" onclick="showContent('content-linkInBio')">Go to Links-in-bio</button>
                    </div>
                </div> -->
            </div>
        </div>


        <div id="content-links" style="display: none;">
            <h1>Links</h1>
            <br>
            <div id="shortLinkContainer">

            </div>
        </div>

        <div id="content-qrCodes" style="display: none;">
            <h2>QR Codes</h2>
            <br>
            <h4>Coming soon..</h4>
            <!-- <div class="qrCodes-card">
                <img src="/imgs/qrcode.svg" id="qrCodeImage">
                <div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <p class="web-title">One Piece: Chapter 1092 : OnePiece</p>
                        <button class="qr-edit-btn" onclick="openEditQRCode();">
                            <i class="material-icons">edit</i>
                        </button>
                        <button class="download-qr-btn" onclick="downloadQRCode();">
                            <i class="material-icons">download</i>
                            Download
                        </button>
                    </div>
                    <p>Website</p>
                    <div class="link-web">
                        <i class="material-icons">link</i>
                        <a target="_blank"
                            href="https://www.reddit.com/r/OnePiece/comments/16i9unx/one_piece_chapter_1092/">https://www.reddit.com/r/OnePiece/comments/16i9unx/one_piece_chapter_1092/</a>
                    </div>
                    <div class="link-web">
                        <div class="detail-short">
                            <i class="material-icons">date_range</i>
                            <p>Sep 14, 2023</p>
                        </div>
                        <div class="link-web">
                            <i class="material-icons">link</i>
                            <a id="copy-link" href="https://bit.ly/3EBGMKX">https://bit.ly/3EBGMKX</a>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>


        <div id="content-linkInBio" style="display: none;">
            <h2>Link-in-bio Content</h2>
        </div>
    </main>

    <!--Modal field-->
    <div id="message"></div>

    <div id="editOverlay" class="overlay-edit">
        <div class="overlay-edit-content">
            <h2>Edit Links <span id="editID" style="display: none;"></span> </h2>
            <div style="width: 100%;">
                <p>Title</p>
                <input id="editInputTitle" class="ip-title" type="text">
            </div>
            <div class="field-domain">
                <div style="width: 45%;">
                    <p>Domain</p>
                    <input type="text" placeholder="https://thity-api.cleverapps.io/" readonly>
                </div>
                <div style="width: 45%; margin-bottom: 20px;">
                    <p>Back Half</p>
                    <input id="editBackHalf" type="text">
                </div>
            </div>
            <div class="btn-delete-box">
                <button class="cancel-edit" onclick="closeEditOverlay()">Cancel</button>
                <button class="edit-btn" onclick="editLink();">Save</button>
            </div>
        </div>
    </div>

    <div id="deleteOverlay" class="overlay-delete">
        <div class="overlay-delete-content">
            <h2>Delete link ?<span id="linkIdToDelete" style="display: none;"></span></h2>
            <p>Deleting this link will redirect it to the
                <span class="link-error" onclick="toErrorPage();">error page.</span>
            </p>
            <p>This cannot be undone.</p>
            <br>
            <div class="btn-delete-box">
                <button class="cancel-btn" onclick="closeDeleteOverlay()">Cancel</button>
                <button class="confirm-delete" onclick="deleteLink();">Delete link</button>
            </div>
        </div>
    </div>

    <div id="editQRcode" class="overlay-edit-qr">
        <div class="overlay-edit-qr-content">
            <h1>Edit QR Codes</h1>
            <h2>Details</h2>
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <div>
                    <p>Title</p>
                    <input class="ip-title" type="text">
                </div>
                <img src="/imgs/qrcode.svg" width="140px">
            </div>
            <h4>Short link</h4>
            <p>bit.ly/3EBGMKX</p>
            <h2>Content</h2>
            <h4>Scan destination</h4>
            <div style="display: flex; align-items: center;">
                <i class="material-icons">link</i>
                <p>Website</p>
            </div>
            <h4>Destination URL</h4>
            <p class="short-url">https://www.reddit.com/r/OnePiece/comments/16i9unx/one_piece_chapter_1092/</p>
            <div class="btn-delete-box">
                <button class="cancel-edit" onclick="closeEditQRCode()">Cancel</button>
                <button class="edit-btn">Save</button>
            </div>
        </div>
    </div>

    <div id="newLink" class="overlay-new-link">
        <div class="overlay-new-link-content">
            <h1>Create New</h1>
            <p>Destination</p>
            <input class="ip-title" type="text" id="newDestination">
            <p>Title (Optional)</p>
            <input class="ip-title" type="text" id="newTitle">
            <h2>Way to share</h2>
            <h4>Short link</h4>
            <div class="field-domain">
                <div style="width: 40%;">
                    <p>Domain</p>
                    <input style="width: 90%;" type="text" placeholder="https://thity-api.cleverapps.io/" readonly>
                </div>
                <div style="width: 40%; margin-bottom: 20px;">
                    <p>Back Half</p>
                    <input style="width: 90%;" type="text" id="newBackHalf">
                </div>
            </div>
            <div class="btn-delete-box">
                <button class="cancel-edit" onclick="closeNewLink()">Cancel</button>
                <button class="edit-btn" onclick="createLink();">Create</button>
            </div>
        </div>
    </div>

    <div id="newQr" class="overlay-new-qr">
        <div class="overlay-new-qr-content">
            <h1>Create a QR Codes</h1>
            <h3>Coming Soon....</h3>
            <!-- <h2>Enter your destination</h2>
            <div class="preview-qr">
                <div>
                    <p>Destination URL</p>
                    <input class="ip-title" type="text">
                    <p>Title (Optional)</p>
                    <input class="ip-title" type="text">
                    <h4>Short link</h4>
                </div>
                <img src="/imgs/qrcode.svg" alt="preview qr">
            </div>

            <div class="field-domain">
                <div style="width: 40%;">
                    <p>Domain</p>
                    <input style="width: 90%;" type="text">
                </div>
                <div style="width: 40%; margin-bottom: 20px;">
                    <p>Back Half</p>
                    <input style="width: 90%;" type="text">
                </div>
            </div> -->
            <div class="btn-delete-box">
                <button class="cancel-edit" onclick="closeNewQR()">Cancel</button>
                <!-- <button class="edit-btn" onclick="closeNewQR(); openQrSuccess();">Create</button> -->
            </div>
        </div>
    </div>


    <div id="qrSuccess" class="overlay-new-qr">
        <div class="overlay-qr-success-content">
            <button class="close-qr-success" onclick="closeQrSuccess()">X</button>
            <h1>Your QR Code is ready ðŸŽ‰</h1>
            <h4>Scan the image below to preview your QR Code</h4>
            <img src="/imgs/qrcode.svg" alt="preview qr" style="width: 250px;">
            <p>bit.ly/3EBGMKX</p>
            <div class="flex-center">
                <button class="copy-code-link">
                    Copy Code
                    <i class="material-icons">content_copy</i>
                </button>
                <button class="download-qr-btn-sucess">
                    Download
                    <i class="material-icons">download</i>
                </button>
            </div>
        </div>
    </div>

    <div id="createLinkSuccess" class="overlay-create-link-success">
        <div class="overlay-create-link-success-content">
            <h1>Your Link is ready ðŸŽ‰</h1>
            <div style="display: flex; justify-content: end;">
                <button class="edit-btn" onclick="closeCreateLinkSuccess()">Close</button>
            </div>
        </div>
    </div>

    <div id="createLinkFail" class="overlay-create-link-success">
        <div class="overlay-create-link-success-content">
            <h1 id="failMessage"></h1>
            <div style="display: flex; justify-content: end;">
                <button class="edit-btn" onclick="closeCreateLinkFail(); closeNewLink();">Close</button>
            </div>
        </div>
    </div>

    <div class="loader" id="loader">
        <div class="circ">
            <div class="load">Loading . . . </div>
            <div class="hands"></div>
            <div class="body"></div>
            <div class="head">
                <div class="eye"></div>
            </div>
        </div>
    </div>

    <script src="/js/home.js"></script>
</body>

</html>